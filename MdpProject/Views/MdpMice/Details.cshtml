@model MdpProject.Models.MdpMouse

@{
    ViewData["Title"] = "Chi tiết Mouse";
    var defaultImg = Url.Content("~/images/mouse/default.png");
    var img = !string.IsNullOrEmpty(Model.MdpAnh) ? Model.MdpAnh : defaultImg;

    // Tạo giá giả lập (có thể tùy chỉnh)
    var rnd = new Random(Model.MdpMouseId);
    var origPrice = rnd.Next(400_000, 800_000);
    var discount = rnd.Next(10, 35);
    var salePrice = origPrice * (100 - discount) / 100;
}

<div class="container my-4">
    <a asp-action="Index" class="btn btn-outline-secondary mb-3"><i class="bi bi-arrow-left"></i> Quay lại</a>

    <div class="row align-items-start mb-5">
        <!-- Ảnh -->
        <div class="col-md-6">
            <img src="@img" class="img-fluid rounded shadow-sm" style="object-fit:cover; max-height:400px;" />
        </div>

        <!-- Thông số -->
        <div class="col-md-6">
            <div class="card p-4 shadow-sm h-100">
                <h2 class="fw-bold mb-3">@Model.MdpTenMouse</h2>

                <p><strong>Kiểu kết nối:</strong> @Model.MdpKieuKetNoi</p>
                <p><strong>Độ phân giải:</strong> @Model.MdpDoPhanGiai</p>
                <p><strong>Số nút:</strong> @Model.MdpSoNut</p>
                <p><strong>Đèn LED:</strong> @(Model.MdpDenLed == true ? "Có" : "Không")</p>
                <p><strong>Ngày tạo:</strong> @Model.MdpCreatedAt?.ToString("dd/MM/yyyy")</p>

                <div class="mb-3 mt-3">
                    <h3 class="fw-bold text-danger">@salePrice.ToString("N0") ₫</h3>
                    <span class="text-muted text-decoration-line-through">@origPrice.ToString("N0") ₫</span>
                    <span class="badge bg-success ms-2">-@discount%</span>
                </div>

                <a href="@Url.Action("Index", "MdpProductVariants", new { sanPhamId = Model.MdpSanPhamId })"
                   class="btn btn-success btn-lg w-100">
                    <i class="bi bi-cart-plus"></i> Thêm vào giỏ hàng
                </a>
            </div>
        </div>
    </div>

    <!-- Giới thiệu thêm sản phẩm -->
    <div class="mt-4 p-4 bg-light rounded-4 shadow-sm">
        <h4 class="fw-bold mb-3">Thông tin sản phẩm</h4>
        <p>
            Chuột <strong>@Model.MdpTenMouse</strong> với kiểu kết nối <strong>@Model.MdpKieuKetNoi</strong>,
            độ phân giải <strong>@Model.MdpDoPhanGiai</strong> và số nút <strong>@Model.MdpSoNut</strong>
            phù hợp cho cả game thủ và văn phòng.
        </p>
        <p>Đèn LED: @(Model.MdpDenLed == true ? "Có" : "Không")</p>
    </div>
</div>

<style>
    .card {
        border-radius: 12px;
    }

    .shadow-sm {
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .btn-lg {
        min-width: 180px;
    }
</style>
